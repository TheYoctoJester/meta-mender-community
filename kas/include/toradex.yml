header:
  version: 14

repos:
  meta-openembedded:
    layers:
      meta-python:
      meta-gnome:
      meta-xfce:
      meta-multimedia:
      meta-networking:
      meta-filesystems:
  meta-qt5:
    url: https://github.com/meta-qt5/meta-qt5
    commit: 644ebf220245bdc06e7696ccc90acc97a0dd2566
  meta-toradex-distro:
    url: https://git.toradex.com/meta-toradex-distro.git
    #branch: kirkstone-6.x.y
    commit: b63547f3772ea9d0f8f83bc24238005d621966f5
  meta-toradex-bsp-common:
    url: https://git.toradex.com/meta-toradex-bsp-common.git
    #branch: kirkstone-6.x.y
    commit: 95d58eee6e1ba025c3ab84285bd11222889a41a4
  meta-toradex-nxp:
    url: https://git.toradex.com/meta-toradex-nxp.git
    #branch: kirkstone-6.x.y
    commit: 163c71393949f241ce60e3e0e0b474fa3eee1ddc
  meta-toradex-demos:
    url: https://git.toradex.com/meta-toradex-demos.git
    #branch: kirkstone-6.x.y
    commit: ad72d14becf6b54c1c76864eb691a369307672fa

  meta-mender-community:
    layers:
      meta-mender-toradex-nxp:

distro: tdx-xwayland

local_conf_header:
  toradex: |
    INHERIT += "toradex-mirrors toradex-sanity"
    INHERIT += "mender-toradex"
    INHERIT += "mender-full"
    MENDER_UBOOT_POST_SETUP_COMMANDS:append = " ; setenv tdxargs \${tdxargs} \${bootargs}; "
    MENDER_UBOOT_POST_SETUP_COMMANDS:append = " ; setenv overlays_file /boot/overlays.txt ; setenv overlays_prefix boot/overlays/ "
    MENDER_FEATURES_ENABLE:append = " mender-uboot mender-image-sd"
    MENDER_FEATURES_DISABLE:append = " mender-grub mender-image-uefi"
    IMAGE_CLASSES += "image_type_mender_tezi"
    IMAGE_FSTYPES:append = " mender_tezi"
    IMAGE_FSTYPES:remove = " teziimg"
    KERNEL_IMAGETYPE:aarch64_mender-grub = "Image"
    IMAGE_BOOT_FILES:remove:mender-grub = "boot.scr-verdin-imx8mm;boot.scr"
    IMAGE_BOOT_FILES:remove:mender-uboot = "zImage ${KERNEL_DEVICETREE} overlays.txt overlays/*;overlays/"
